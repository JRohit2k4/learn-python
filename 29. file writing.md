## **File writing in Python**

Python gives us the ```open()``` function to work with files.  

syntax:
```python
open("filename", "mode")
```
**File modes you'll need for writing:**  
- ```"w"``` - Write (overwrites the file if it already exists).
- ```"a"``` - Append (adds data to the end of the line).
- ```"x"``` - Create (creates new file, error if file exists).
- ```"r+"``` - Read & Write.

## **1. Write mode (```w```)**  
If file exists - content will be erased.  
If not - new file created
```python
#write code
f = open("demo.txt", "w")
f.write("Hello world\n")
f.write("This is my first file write in python.\n")
f.close()
```
creates ```demo.txt``` with those 2 lines.  
If you run again, old content gest **overwritten**.

## **2. Append mode (```a```)**  
Adds new content without deleting old one.  
```python
f = open("demo.txt", "a")
f.write("Adding new lines...\n")
f.close()
```
Old text stays, new line added at the end  

## **3. Writing multiple lines at once**  
Use ```.writelines()``` with a list.
```python
f = open("demo.txt", "w")
lines = ["Line 1\n", "Line 2\n", "Line 3\n"]
f.writelines(lines)
f.close()
```

## **4. Best Practice - Using `with`**  
Automatically closes the file (no need ```f.close()```).
```python
with open("demo.txt", "w") as f:
    f.write("This is safer way to write files.\n")
```

## **5. Example: Logging system**
```python
import time

with open("log.txt", "a") as log:
    log.write(f"Program started at {time.ctime()}\n")
```
Every run, it adds a timestamp instead of erasing old logs.

## **Another example with exception handling**
```python
import os
import time

txt_data = f"Program started at {time.ctime()}\n"

file_path = "log.txt"

try:
    with open("log.txt", "x") as log:
        log.write(txt_data)

except FileExistsError:
    with open("log.txt", "a") as log:
        log.write(txt_data)
        print(f"File '{file_path}' already exits!")
        print("Appended existing file")
```
## **Writing a `json` file**
```python
import os
import time
import json

employees = {
    "name" : "Spongebob",
    "job" : "cook"
}

file_path = "emp.json"

try:
    with open(file_path, "w") as emp:
        json.dump(employees, emp, indent=4)
        print("Created new 'emp.json' file.\nAdded emp info in it.")

except FileExistsError:
    with open(file_path, "a") as emp:
        json.dump(employees, emp, indent=4)
        print(f"File '{file_path}' already exits!")
        print("Appended existing file")
```

## **Writing a `csv` file**
```python
import os
import csv

employees = [
             ["name" , "job"],
             ["Spongebob" , "cook"]]

file_path = "emp.csv"


with open(file_path, "w") as file:
    writer = csv.writer(file)
    for row in employees:
        writer.writerow(row)
    print("Created new 'emp.csv' file.\nAdded emp info in it.")

```
